<head>
  <title>Music</title>
</head>

<body>
  <header class="login">{{loginButtons align="right"}}</header>
  <div class="container">
  	<div class="row playlist">
  	  <div class="span4">
        {{> songs }}
      </div>
      <div class="span5">
      	{{> youtube }}
        {{> songControls }}
      </div> 
    </div>
  </div>
</body>

<template name="songs">
  <h1 class="playlistName">{{currentUser.username}}'s Playlist</h1>
  <ul>
    {{#each songs}}
      {{> song}}
    {{/each}}
  </ul>
</template>

<template name="song">
  <li class="{{songSelected}}"><span class="{{togglePlay}}"></span><span class="song" id="{{youtubeID}}">{{artist}} - {{song}}</span>
    {{#if currentUser}}<span class="delete_song icon-trash"></span>{{/if}}</li>
</template>

<template name="youtube">
  <iframe id="ytplayer" type="text/html" width="470" height="264"
  src="http://www.youtube.com/embed/{{youtubeID}}?autoplay=1&controls=0&showinfo=0&iv_load_policy=3"
  frameborder="0" allowfullscreen>
</template>

<template name="songControls">
  <div class="song_controls">
    <h4>Now Playing:</h4>
    <h3>{{nowPlaying.artist}} - {{nowPlaying.song}}</h3>
    <span class="icon-step-backward icon-large prev_song"></span>
    <span class="icon-play icon-large"></span>
    <span class="icon-pause icon-large"></span>
    <span class="icon-step-forward icon-large next_song"></span>
    <span class="icon-angle-up icon-large" style="float:right;"></span>
    {{#if currentUser}}<span class="icon-angle-down icon-large" style="float:right;"></span>{{/if}}
    <div class="add_song">
      {{#if currentUser}}
        <h4>Add Song:</h4>
        <span id="error" style="color: red;"> </span>
        <label>Artist:</label><input id="artistName" type="text" />
        <label>Song:</label><input id="songName" type="text" />
        <label>Youtube:</label><input id="youtubeID" type="text" />
        <button class="btn" id="addsong">Add Song</button>
        <button class="btn" id="cancelSong">Cancel</button>
      {{/if}}
    </div>
  </div>
</template>

